import{a3 as p,a5 as l,a6 as h,a7 as u}from"./RPqdvl64.js";import{c as x,b as a,t as o}from"./DrTE1gcP.js";const g=":host,*,*:before,*:after{box-sizing:border-box}.text-align-left{text-align:left !important}.text-align-center{text-align:center !important}@media (max-width: 479px){.text-align-center-xs-down{text-align:center !important}}@media (max-width: 767px){.text-align-center-sm-down{text-align:center !important}}@media (max-width: 1023px){.text-align-center-md-down{text-align:center !important}}@media (max-width: 1279px){.text-align-center-lg-down{text-align:center !important}}@media (max-width: 1439px){.text-align-center-xl-down{text-align:center !important}}.text-align-center-ul-down{text-align:center !important}.text-align-right{text-align:right !important}.text-align-justify{text-align:justify !important}.text-lowercase{text-transform:lowercase !important}.text-uppercase{text-transform:uppercase !important}.text-capitalize{text-transform:capitalize !important}.text-truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.text-recommended-max-width{max-width:666px}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);border:0}.sr-only-focusable:active,.sr-only-focusable:focus{position:static;width:auto;height:auto;margin:0;overflow:visible;clip:auto}",m=g,i=class{constructor(t){p(this,t),this.blurColor=i.blurColorLightTheme,this.boxShadowBorderColor=i.boxShadowBorderColorLightTheme,this.hideStepAnimation=Promise.resolve(),this.initialScrollPosition={top:0,left:0},this.currentStepIndex=-1,this.steps=[],this.animated=!0}currentStepIndexChanged(t,e){this.hideStep(e),this.showStep(t),t===0&&this.start()}open(){this.initialScrollPosition={top:window.scrollY,left:window.scrollX},this.currentStepIndex=0}componentDidLoad(){document.body.append(this.scrollHelperEl,this.highlightHelperEl),x(this.el)==="sdx--dark-theme"&&(this.blurColor=i.blurColorDarkTheme,this.boxShadowBorderColor=i.boxShadowBorderColorDarkTheme)}componentWillUpdate(){var t;if(!this.isValidStepIndex(this.currentStepIndex))return(t=this.menuFlyoutEl)===null||t===void 0?void 0:t.close()}componentDidUpdate(){if(this.isValidStepIndex(this.currentStepIndex)){const{element:t}=this.steps[this.currentStepIndex];this.menuFlyoutEl.referenceEl=t}}onKeyUp(t){if(this.isValidStepIndex(this.currentStepIndex)){if(t.key==="ArrowRight")this.currentStepIndex=this.currentStepIndex+1;else if(t.key==="ArrowLeft"){const e=this.currentStepIndex-1;this.isValidStepIndex(e)&&(this.currentStepIndex=this.currentStepIndex-1)}}}start(){var t;this.disableScroll(),(t=this.menuFlyoutEl)===null||t===void 0||t.open()}stop(){this.enableScroll(),this.highlightHelperEl.style.visibility="hidden",this.currentStepIndex=-1;const t=this.animated?"smooth":"auto";window.scrollTo({...this.initialScrollPosition,behavior:t})}hideStep(t){this.hideStepAnimation=new Promise(e=>{a.start(this.highlightHelperEl,{boxShadow:`${this.boxShadowBorderColor} 0 0 0 0, ${this.blurColor} 0 0 0 1000vh`},t===-1?0:this.getAnimationDuration(!0),{finished:e})}),this.isValidStepIndex(this.currentStepIndex)&&this.el.append(...this.slotContentEl.children)}showStep(t){var e;if(!this.isValidStepIndex(t))return;const{element:n,slot:s}=this.steps[t];n.scrollIntoView({block:"center"}),this.highlightElement(t),(e=this.slotContentEl)===null||e===void 0||e.append(...this.el.querySelectorAll(`[slot=${s}]`))}isValidStepIndex(t){return!(t<0||t>this.steps.length-1)}async highlightElement(t){if(!this.highlightHelperEl)return;await this.hideStepAnimation;const e=this.getOffset(this.steps[t].element);this.highlightHelperEl.style.top=`${e.top}px`,this.highlightHelperEl.style.left=`${e.left}px`,this.highlightHelperEl.style.width=`${e.width}px`,this.highlightHelperEl.style.height=`${e.height}px`,this.highlightHelperEl.style.visibility="visible",this.highlightHelperEl.style.position="absolute",this.highlightHelperEl.style.zIndex="99999",this.highlightHelperEl.style.borderRadius="8px",a.start(this.highlightHelperEl,{boxShadow:`${this.boxShadowBorderColor} 0 0 0 2px, ${this.blurColor} 0 0 0 1000vh`},this.getAnimationDuration(!0))}getOffset(t){const e=document.body,n=document.documentElement,s=n.scrollTop||e.scrollTop,d=n.scrollLeft||e.scrollLeft,r=t.getBoundingClientRect();let c={width:r.width,height:r.height};return Object.assign(c,{top:r.top+s,left:r.left+d})}disableScroll(){this.scrollHelperEl.style.visibility="visible",this.scrollHelperEl.style.position="fixed",this.scrollHelperEl.style.top="0",this.scrollHelperEl.style.left="0",this.scrollHelperEl.style.width="100vw",this.scrollHelperEl.style.height="100vh"}getAnimationDuration(t=!1){const e=t?i.animationDurationHalf:i.animationDuration;return this.animated?e:0}enableScroll(){this.scrollHelperEl.style.visibility="hidden"}onPreviousClick(){this.currentStepIndex=this.currentStepIndex-1}onNextClick(){this.currentStepIndex=this.currentStepIndex+1}onBlurPreviousButton(){var t;this.currentStepIndex===0&&((t=this.nextButtonEl)===null||t===void 0||t.doFocus())}render(){return l(h,{key:"eb938fecdbe0916d3d9231bd6259d815fd4b7e28"},l("div",{key:"136b123a3c52653780ac9563b6d3b0bd8d5e8faf",ref:t=>this.scrollHelperEl=t}),l("div",{key:"039ecae39a6fadbfae5eabe0477a6ff418dce631",class:"highlight-helper",ref:t=>this.highlightHelperEl=t}),l("sdx-menu-flyout",{key:"84a58a37e604a7955b91364a226911ab09f40501",direction:"top-left",animated:this.animated,displayChangeCallback:t=>{t==="closed"?this.stop():t==="open"&&a.set(this.menuFlyoutContentEl,{transitionProperty:"top, right, bottom, left",transitionDuration:`${this.getAnimationDuration()}ms`,transitionTimingFunction:"ease-out"})},ref:t=>this.menuFlyoutEl=t},l("sdx-menu-flyout-content",{key:"5c9cf362485942b0f4aa9c117f3ed032c6c652e7",class:"text-recommended-max-width","aria-label":"tour",trapFocusFirstFocusableElement:this.finishedButtonEl||this.nextButtonEl,ref:t=>this.menuFlyoutContentEl=t},l("span",{key:"b0ddde81e86e84c29f0ab8c10731aa4f17e19202","aria-hidden":"true"},this.currentStepIndex+1,"/",this.steps.length),l("span",{key:"9e80731709f868c6d8bc3741bfe85d65b30094bd",class:"sr-only","aria-live":"polite"},this.currentStepIndex>-1&&l(h,{key:"5c9aafc5d5d0b1277b21f32d50c6ab5cea0b0e8b"},o("step",this.el.lang)," ",this.currentStepIndex+1," ",o("of",this.el.lang)," ",this.steps.length)),l("div",{key:"1048acdc18aac0942bacfafcc2159a13bdd28cbd",style:{marginTop:"8px",marginBottom:"32px"},ref:t=>this.slotContentEl=t}),l("sdx-button-group",{key:"dff417f3a1c8d4025b9b704034486a651c88a71a"},l("sdx-button",{key:"8c78912319bb8e90b5b42c434dca7f2db2052122",label:this.currentStepIndex===this.steps.length-1?o("Finish",this.el.lang):o("Next",this.el.lang),onClick:()=>this.onNextClick(),ref:t=>this.nextButtonEl=t}),this.currentStepIndex>0&&l("sdx-button",{key:"e96600bdeeddcd8b214aff6afb78257fbbae9878",onBlur:()=>this.onBlurPreviousButton(),theme:"secondary",label:o("Previous",this.el.lang),onClick:()=>this.onPreviousClick()})))))}get el(){return u(this)}static get watchers(){return{currentStepIndex:["currentStepIndexChanged"]}}};i.blurColorLightTheme="rgba(33, 33, 33, 0.6)";i.blurColorDarkTheme="rgba(255, 255, 255, 0.6)";i.boxShadowBorderColorLightTheme="#fff";i.boxShadowBorderColorDarkTheme="#1d1d1d";i.animationDuration=300;i.animationDurationHalf=i.animationDuration/2;i.style=m;export{i as sdx_tour};
