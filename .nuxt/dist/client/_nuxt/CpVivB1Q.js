import{a3 as m,a4 as p,a5 as l,a7 as f,a8 as I}from"./RPqdvl64.js";import{i as r,j as h,k as x,S as u,w as T,p as g,b as d,c as v,f as y,s as b}from"./DrTE1gcP.js";import{r as w,a as S}from"./CIjpMFpP.js";const C=(e={},s)=>{switch(s.type){case"ADD_TABS_ITEM_EL":return{...e,tabsItemEls:S(e.tabsItemEls,s.tabsItemEl).sort(b)};case"REMOVE_TABS_ITEM_EL":return{...e,tabsItemEls:w(e.tabsItemEls,s.tabsItemEl).sort(b)};case"RESET_TABS_ITEM_ELS":return{...e,tabsItemEls:[...e.tabsItemEls]};default:return e}};function E(){return{tabsItemEls:[],selectedTabsItemEl:void 0,isUserInteractionInProgress:!1}}const D=":host,*,*:before,*:after{box-sizing:border-box}.button-reset{font-family:TheSans, sans-serif;font-weight:500;line-height:24px;letter-spacing:-0.1px;font-size:18px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;vertical-align:middle;text-decoration:none;text-align:center;color:inherit;margin:0;transition:all 150ms cubic-bezier(0.4, 0, 0.6, 1);-webkit-tap-highlight-color:transparent;white-space:unset;padding:unset;border:none;background:transparent;user-select:none}.button-reset:focus-visible{outline:2px solid #086adb;outline-offset:-2px;border-radius:8px;transition:none}.button-reset:not(:disabled){cursor:pointer}.button-reset::-moz-focus-inner{border:0}:host(.sdx--dark-theme) .button-reset:focus-visible{outline:2px solid #e6e6e6;outline-offset:-2px;border-radius:8px;transition:none}:host{display:block}.component{display:flex;flex-flow:column}.component .clickable:focus-visible{outline:2px solid #fff;outline-offset:-4px;border-radius:8px;transition:none;border-radius:12px}.component.centered .header{align-self:center}.component.left-aligned .header{align-self:flex-start}.component .header{background:#eef3f6;border-radius:12px;max-width:100%;align-self:flex-start}.component .header .tablist{position:relative;list-style-type:none;margin:0;white-space:nowrap}.component .header .tablist .indicator{position:absolute;width:114px;top:0;bottom:0;background-color:#015;border-radius:12px}@media (min-width: 768px){.component .header .tablist .indicator{width:178px}}.component .header .tablist .clickable{cursor:pointer;min-width:114px;max-width:248px;padding:12px 24px;position:relative}@media (min-width: 768px){.component .header .tablist .clickable{padding:12px 48px;min-width:178px;max-width:312px}}.component .header .tablist .clickable:is(a){display:inline-block}.component .header .tablist .clickable:hover{color:#0048cf}.component .header .tablist .clickable:disabled{color:rgba(51, 51, 51, 0.4)}.component .header .tablist .clickable:disabled.disabled,.component .header .tablist .clickable:disabled:disabled{cursor:not-allowed}.component .header .tablist .clickable:disabled.disabled:active,.component .header .tablist .clickable:disabled:disabled:active{pointer-events:none;transform:none}.component .header .tablist .clickable.selected{color:#fff}.component .header .tablist .clickable .icon+.label{margin-left:8px}.component .body{padding:24px 0 0}.component.sdx--dark-theme .header{background:#242424}.component.sdx--dark-theme .header .tablist .indicator{background-color:rgba(173, 173, 173, 0.15)}.component.sdx--dark-theme .header .tablist .clickable:hover{color:#5ca3ff}.component.sdx--dark-theme .header .tablist .clickable:disabled{color:rgba(230, 230, 230, 0.5)}.component.sdx--dark-theme .header .tablist .clickable.selected{color:#4294ff}",_=D,L=class{stateChanged({},e){const s=this.state.get(),t=e.get();s.selectedTabsItemEl!==t.selectedTabsItemEl&&this.selectedTabsItemElChanged(s),s.tabsItemEls!==t.tabsItemEls&&this.tabsItemElsChanged()}changeCallbackChanged(){this.setInvokeChangeCallback()}onKeyDown(e){if(e.target!==this.el)return;const{tabsItemEls:s,selectedTabsItemEl:t}=this.state.get();let i=0;switch(e.key){case"ArrowLeft":{e.preventDefault();let a=h(s,t);if(a){for(;a.disabled&&i<s.length;)a=h(s,a),i+=1;this.select(a,!0,!0)}break}case"ArrowRight":{e.preventDefault();let a=r(s,t);if(a){for(;a.disabled&&i<s.length;)a=r(s,a),i+=1;this.select(a,!0,!0)}break}}}async layout(e){this.sdxScrollViewEl&&(x(this.el)||this.isInitialLayout&&(this.sdxScrollViewEl.layout(),this.animateIndicatorElToSelectedTab(e),this.isInitialLayout=!1))}onWindowResize(){clearTimeout(this.resizeTimer),this.resizeTimer=setTimeout(()=>this.animateIndicatorElToSelectedTab(!1),200)}constructor(e){m(this,e),this.sdxselect=p(this,"sdxselect"),this.isInitialLayout=!0,this.componentDidLoadComplete=!1,this.invokeChangeCallback=()=>null,this.selectedTabsItemElDidChange=!1,this.tabsItemElsDidChange=!1,this.state=void 0,this.changeCallback=void 0,this.srHint="",this.animated=!0,this.theme="left-aligned",this.setInvokeChangeCallback(),this.store=new u(this,C,E(),["tabsItemEls","selectedTabsItemEl"]),this.store.flush()}async componentWillLoad(){await T(()=>this.state.get().tabsItemEls.length>0),this.selectDefaultTabsItem()}componentDidLoad(){this.animateIndicatorElToSelectedTab(!1),this.store.subscribe(),this.componentDidLoadComplete=!0}componentDidUpdate(){this.selectedTabsItemElDidChange&&(this.invokeChangeCallback(this.state.get().selectedTabsItemEl),this.animateIndicatorElToSelectedTab(!0),this.selectedTabsItemElDidChange=!1),this.tabsItemElsDidChange&&(this.animateIndicatorElToSelectedTab(!0),this.tabsItemElsDidChange=!1)}selectedTabsItemElChanged(e){this.componentDidLoadComplete&&e.selectedTabsItemEl&&(this.selectedTabsItemElDidChange=!0)}tabsItemElsChanged(){this.componentDidLoadComplete&&(this.tabsItemElsDidChange=!0)}setInvokeChangeCallback(){this.invokeChangeCallback=g(this.changeCallback)}getAnimationDuration(){return this.animated?200:0}selectDefaultTabsItem(){const{selectedTabsItemEl:e,tabsItemEls:s}=this.state.get();if(!e){const t=s.find(i=>!i.disabled);t&&this.select(t)}}animateIndicatorElToSelectedTab(e=!0){const{tabsItemEls:s,selectedTabsItemEl:t}=this.state.get();if(!(t!=null&&t.isConnected)){d.set(this.indicatorEl,{display:"none"});return}const i=this.tabsItemsWithClickableEl.get(s[0]),a=this.tabsItemsWithClickableEl.get(t),n=this.tablistEl.getBoundingClientRect(),o=i.getBoundingClientRect(),c=a.getBoundingClientRect(),k=n.left-o.left;this.sdxScrollViewEl.centerElement(a,e),d.set(this.indicatorEl,{display:""}),d.start(this.indicatorEl,{transform:`translateX(${c.left-n.left-k}px)`,width:`${c.right-c.left}px`},e?this.getAnimationDuration():0)}select(e,s=!1,t=!1){var i;this.store.set("isUserInteractionInProgress",s),this.store.set("selectedTabsItemEl",e),this.store.set("isUserInteractionInProgress",!1),t&&((i=this.tabsItemsWithClickableEl.get(e))===null||i===void 0||i.focus())}getComponentClassNames(){return{component:!0,[v(this.el)]:!0,[this.theme]:!0}}getClickableElClassNames(e){return{clickable:!0,"button-reset":!0,selected:e===this.state.get().selectedTabsItemEl}}render(){const{tabsItemEls:e,selectedTabsItemEl:s}=this.state.get();return this.tabsItemsWithClickableEl=new WeakMap,l("div",{key:"94db01457f25649dabf3f41441737f403ea227d9",class:this.getComponentClassNames()},l("div",{key:"357be8a8ff0391141e2548c104e62fa2622e9460",class:"header"},l("sdx-scroll-view",{key:"7da168ea5de31c0b7ed4a06c869f367d53a5c888",ref:t=>this.sdxScrollViewEl=t},l("div",{key:"47dc99b354ba1016a9f542a9f77ebfb542e49f6c",class:"tablist",role:"tablist","aria-label":this.srHint,ref:t=>this.tablistEl=t},l("div",{key:"6b614bdcb6396ccf948ec8b93cc89ad8592a78a2",class:"indicator",ref:t=>this.indicatorEl=t,style:{display:"none"}}),e.map(t=>{const i=t===s,a=t.href?"a":"button";return l(a,{class:this.getClickableElClassNames(t),onClick:()=>this.select(t,!0),disabled:t.disabled&&!t.href,"aria-disabled":t.disabled.toString(),"aria-selected":i.toString(),role:"tab",tabindex:i?"0":"-1",href:t.href,ref:n=>{var o;return n&&((o=this.tabsItemsWithClickableEl)===null||o===void 0?void 0:o.set(t,n))}},l("sdx-text-truncate",null,t.iconName&&l("sdx-icon",{class:"icon",iconName:t.iconName}),l("span",{class:"label"},t.label)))})))),l("div",{key:"2d4a5e0a5932a78aa44bb6b987e0699a0cb616e2",class:"body"},l("slot",{key:"4b7da228a46e71f16b5ef6d0ed651568ffb2217b"})))}get el(){return f(this)}static get watchers(){return{state:["stateChanged"],changeCallback:["changeCallbackChanged"]}}};L.style=_;const A=":host,*,*:before,*:after{box-sizing:border-box}:host{outline:none}.component{display:none}.component.selected{display:block}",R=A,N=class{stateChanged({},e){const s=this.state.get(),t=e.get();s.selectedTabsItemEl!==t.selectedTabsItemEl&&this.selectedTabsItemElChanged(s)}selectedCallbackChanged(){this.setInvokeSelectedCallback()}selectedChanged(){this.selectedChangedInProgress=!0,this.selected&&this.store.set("selectedTabsItemEl",this.el),this.selectedChangedInProgress=!1}propChanged(){this.store.dispatch({type:"RESET_TABS_ITEM_ELS"})}constructor(e){m(this,e),this.sdxselect=p(this,"sdxselect"),this.selectedChangedInProgress=!1,this.invokeSelectedCallback=()=>null,this.onComponentDidUpdate=[],this.state=void 0,this.selectedCallback=void 0,this.label="",this.disabled=!1,this.iconName=void 0,this.selected=!1,this.href=void 0,this.setInvokeSelectedCallback(),this.store=new u(this,C,E(),["selectedTabsItemEl"])}connectedCallback(){this.store.dispatch({type:"ADD_TABS_ITEM_EL",tabsItemEl:this.el}),this.selected&&this.store.set("selectedTabsItemEl",this.el)}disconnectedCallback(){this.store.dispatch({type:"REMOVE_TABS_ITEM_EL",tabsItemEl:this.el})}componentDidLoad(){this.store.subscribe()}componentDidUpdate(){this.onComponentDidUpdate.forEach(e=>e()),this.onComponentDidUpdate=[]}selectedTabsItemElChanged(e){this.selectedChangedInProgress||(this.selected=e.selectedTabsItemEl===this.el),this.onComponentDidUpdate.push(()=>{this.selected&&(this.layout(),e.isUserInteractionInProgress&&this.sdxselect.emit(),this.invokeSelectedCallback(e.selectedTabsItemEl))})}setInvokeSelectedCallback(){this.invokeSelectedCallback=g(this.selectedCallback)}layout(){y(this.el,e=>{"layout"in e&&typeof e.layout=="function"&&e.layout(!1)})}getComponentClassNames(){return{component:!0,selected:this.el===this.state.get().selectedTabsItemEl,disabled:this.disabled}}render(){return l(I,{key:"46bccc570efaa7c263d87d55eee180191ad51453",role:"tabpanel","aria-label":this.label,tabindex:this.selected?"0":"-1"},l("div",{key:"38a1a0f1cacc8d695da9bef0a0b0cce2ee68fc3b",class:this.getComponentClassNames()},l("slot",{key:"f2acbd6252eb164b4561297936b259ea96e7b699"})))}get el(){return f(this)}static get watchers(){return{state:["stateChanged"],selectedCallback:["selectedCallbackChanged"],selected:["selectedChanged"],label:["propChanged"],disabled:["propChanged"],iconName:["propChanged"],href:["propChanged"]}}};N.style=R;export{L as sdx_tabs,N as sdx_tabs_item};
