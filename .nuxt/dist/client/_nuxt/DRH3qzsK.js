import{a3 as m,a4 as R,a5 as i,a7 as y,a8 as D}from"./RPqdvl64.js";import{m as x,g as E}from"./BQvHSdn_.js";import{B as A,l as L,C as O,m as _,b as g,S as C,p as P,D as k,c as u,F as I,j as N,i as U,t as T}from"./DrTE1gcP.js";import"./CIjpMFpP.js";const W=":host,*,*:before,*:after{box-sizing:border-box}:host{display:inline-block}",z=W,H=class{stateChanged({},t){const e=this.state.get(),o=t.get();e.display!==o.display&&this.displayChanged(e),e.arrowEls!==o.arrowEls&&this.arrowElsChanged()}directionChanged(){const{display:t}=this.state.get();t!=="closed"?this.close().then(()=>{this.store.set("direction",this.direction),this.open()}):this.store.set("direction",this.direction)}displayChangeCallbackChanged(){this.setInvokeDisplayChangeCallback()}referenceElChanged(){this.positionContentEl(this.direction)}onWindowResize(){const{display:t,direction:e}=this.state.get();if(t==="closed")return;const o=A();o!==this.lastScreenOrientationAngle?(this.lastScreenOrientationAngle=o,this.close()):this.positionContentEl(e)}toggle(){const{display:t}=this.state.get();return t==="open"||t==="opening"?this.close():this.open()}open(){return new Promise(t=>{const{display:e,direction:o,contentEl:n,isUserInteractionInProgress:s}=this.state.get();if(!n)return;if(e==="open"||e==="opening"){t();return}this.overlayOutletEl=L(),this.scrollContainerEl=O(this.el),this.scrollContainerEl?this.overlayOutletEl=this.scrollContainerEl:this.scrollContainerEl=document.documentElement,_("add",n,this.overlayOutletEl,this.el),g.set(n,{opacity:"0"}),this.positionContentEl(o),this.setDisplay("opening",s);const c=this.state.get().direction==="top-left"||this.state.get().direction==="top-right"?this.offsetY:-this.offsetY;g.set(n,{transform:`translateY(${c}px)`}),g.start(n,{transform:"translateY(0)",opacity:"1"},this.animated?this.animationDuration:0,{finished:()=>{this.setDisplay("open",s),t()}})})}close(){return new Promise(t=>{const{display:e,contentEl:o,isUserInteractionInProgress:n}=this.state.get();if(o){if(e==="closed"||e==="closing"){t();return}this.setDisplay("closing",n),g.start(o,{transform:"translateY(0)",opacity:"0"},this.animated?this.animationDuration:0,{finished:()=>{g.set(o,{display:"none"}),this.store.set("direction",this.direction),this.setDisplay("closed",n),_("remove",o,this.el,this.el),t()}})}})}async requestToClose(t){const{toggleEl:e,contentEl:o}=this.state.get();if(!o)return;if(t instanceof KeyboardEvent){t.key==="Escape"&&(this.store.set("isUserInteractionInProgress",!0),this.close(),this.store.set("isUserInteractionInProgress",!1));return}const n=e&&t.composedPath().includes(e),s=t.composedPath().includes(o);if(!n){if(s){this.closeOnClick&&(this.store.set("isUserInteractionInProgress",!0),this.close(),this.store.set("isUserInteractionInProgress",!1));return}this.store.set("isUserInteractionInProgress",!0),this.close(),this.store.set("isUserInteractionInProgress",!1)}}constructor(t){m(this,t),this.sdxdisplaychange=R(this,"sdxdisplaychange"),this.isConnected=!1,this.invokeDisplayChangeCallback=()=>null,this.animationDuration=300,this.oppositeDirection={x:{"top-right":"top-left","top-left":"top-right","bottom-right":"bottom-left","bottom-left":"bottom-right"},y:{"top-right":"bottom-right","top-left":"bottom-left","bottom-right":"top-right","bottom-left":"top-left"}},this.arrowUnrotatedWidth=14,this.offsetX=24,this.offsetY=16,this.lastScreenOrientationAngle=0,this.state=void 0,this.direction="bottom-right",this.closeOnClick=!1,this.displayChangeCallback=void 0,this.animated=!0,this.referenceEl=void 0,this.setInvokeDisplayChangeCallback(),this.store=new C(this,x,E(),["display","direction","contentEl","toggleEl","arrowEls"]),this.store.set("direction",this.direction),this.store.set("toggle",this.toggle.bind(this)),this.store.flush()}connectedCallback(){this.isConnected=!0}disconnectedCallback(){this.isConnected=!1,this.close()}componentDidLoad(){this.store.subscribe()}displayChanged(t){this.invokeDisplayChangeCallback(t.display)}setDisplay(t,e){this.store.set("display",t),e&&this.sdxdisplaychange.emit({display:t})}arrowElsChanged(){this.isConnected&&this.positionArrowEls()}setInvokeDisplayChangeCallback(){this.invokeDisplayChangeCallback=P(this.displayChangeCallback)}positionContentEl(t){var e;const{contentEl:o}=this.state.get();if(!(o&&this.scrollContainerEl))return;const s=((e=this.referenceEl)===null||e===void 0?void 0:e.getBoundingClientRect())||this.el.getBoundingClientRect(),c=s.width/2,h={bottom:t==="bottom-right"||t==="bottom-left",left:t==="top-left"||t==="bottom-left",right:t==="top-right"||t==="bottom-right",top:t==="top-right"||t==="top-left"};let r={bottom:document.documentElement.clientHeight-s.bottom,left:s.left+c,right:document.documentElement.clientWidth-s.right+c,top:s.top},d={bottom:0,left:0,right:0,top:0};this.scrollContainerEl!==document.documentElement&&(d=this.scrollContainerEl.getBoundingClientRect(),r={bottom:d.bottom-s.bottom,left:r.left-d.left,right:d.right-c,top:s.top-d.top}),o.style.display="block";const p=o.clientWidth,f=o.clientHeight,a={bottom:r.bottom>=f+this.arrowUnrotatedWidth,left:r.left>=p,right:r.right>=p,top:r.top>=f+this.arrowUnrotatedWidth},b=r.top+k(this.scrollContainerEl).scrollTop+s.height+this.offsetY,w=r.left+k(this.scrollContainerEl).scrollLeft-p+this.offsetX+this.arrowUnrotatedWidth/2,F=r.left+k(this.scrollContainerEl).scrollLeft-this.offsetX-this.arrowUnrotatedWidth/2,v=r.top+k(this.scrollContainerEl).scrollTop-f-this.offsetY;let l=t;const S=w<0?0:w;h.left&&(a.left?o.style.left=`${w}px`:a.right?(o.style.left=`${F}px`,l=this.oppositeDirection.x[l]):o.style.left=`${S}px`),h.right&&(a.right?o.style.left=`${F}px`:(o.style.left=`${S}px`,l=this.oppositeDirection.x[l])),h.top&&(a.top?o.style.top=`${v}px`:a.bottom?(o.style.top=`${b}px`,l=this.oppositeDirection.y[l]):o.style.top=`${v}px`),h.bottom&&(a.bottom?o.style.top=`${b}px`:a.top?(o.style.top=`${v}px`,l=this.oppositeDirection.y[l]):o.style.top=`${b}px`),this.store.set("direction",l),this.positionArrowEls(parseFloat(o.style.left))}positionArrowEls(t){var e,o;const{contentEl:n,toggleEl:s,arrowEls:c}=this.state.get(),h=t||n.getBoundingClientRect().left,r=((e=this.scrollContainerEl)===null||e===void 0?void 0:e.getBoundingClientRect().left)||0,d=s==null?void 0:s.getBoundingClientRect(),p=(o=this.referenceEl)===null||o===void 0?void 0:o.getBoundingClientRect(),f=this.el.getBoundingClientRect(),a=p||d||f;c.forEach(b=>{b.style.left=`${a.left-h-r+a.width/2-this.arrowUnrotatedWidth/2}px`})}render(){return i("slot",{key:"a6521921cb39fa1da8f05fbebf81de99a113e55b"})}get el(){return y(this)}static get watchers(){return{state:["stateChanged"],direction:["directionChanged"],displayChangeCallback:["displayChangeCallbackChanged"],referenceEl:["referenceElChanged"]}}};H.style=z;const B=":host,*,*:before,*:after{box-sizing:border-box}:host{display:block}:host>.component>.arrow{display:none;position:absolute;background-color:#fff;width:15px;height:15px;transform:rotate(45deg)}:host{display:none;position:absolute;top:0;left:0;z-index:999999;box-shadow:0 0 4px 0 rgba(0, 0, 0, 0.2);border-radius:12px}:host .component .body{position:relative;background-color:#fff;transition:border-bottom 200ms cubic-bezier(0.4, 0, 0.6, 1), color 200ms cubic-bezier(0.4, 0, 0.6, 1);border-radius:12px;padding:24px}:host(.top-right) .component .arrow,:host(.top-left) .component .arrow{display:block;bottom:-7.5px;box-shadow:1px 1px 2px 0 rgba(0, 0, 0, 0.15)}:host(.bottom-right) .component .arrow,:host(.bottom-left) .component .arrow{display:block;top:-7.5px;box-shadow:-1px -1px 2px 0 rgba(0, 0, 0, 0.15)}.component.sdx--dark-theme .body,.component.sdx--dark-theme .arrow{background-color:#1d1d1d}",$=B,M=class{stateChanged({},t){const e=this.state.get(),o=t.get();e.display!==o.display&&this.displayChanged(e)}constructor(t){m(this,t),this.state=void 0,this.autofocus=!0,this.arrowStyles=void 0,this.bodyStyle={},this.trapFocusFirstFocusableElement=void 0,this.store=new C(this,x,E(),["direction","display"])}connectedCallback(){this.store.set("contentEl",this.el),this.arrowEl&&this.store.dispatch({type:"ADD_ARROW_EL",arrowEl:this.arrowEl})}disconnectedCallback(){this.arrowEl&&this.store.dispatch({type:"REMOVE_ARROW_EL",arrowEl:this.arrowEl}),this.store.set("contentEl",void 0)}componentDidLoad(){this.store.dispatch({type:"ADD_ARROW_EL",arrowEl:this.arrowEl}),this.store.subscribe()}getArrowStyle(){var t,e;const{direction:o}=this.state.get(),n=o==="bottom-left"||o==="bottom-right",s=u(this.el)==="sdx--light-theme";if(n&&s)return(t=this.arrowStyles)===null||t===void 0?void 0:t.positionBottomLightTheme;if(!n&&!s)return(e=this.arrowStyles)===null||e===void 0?void 0:e.positionTopDarkTheme}displayChanged(t){var e;t.display==="open"&&this.autofocus&&((e=this.trapFocusEl)===null||e===void 0||e.doFocus())}getHostClassNames(){return{...I(this.state.get().direction)}}getComponentClassNames(){return{component:!0,[u(this.el)]:!0}}render(){const t=this.el.querySelector("#sdx-dialog-content-label"),e=this.el.querySelector("#sdx-dialog-content-description");return i(D,{key:"184b9abe0d708031b233f8f5dfbfb2e249434d1f",class:this.getHostClassNames(),role:"dialog","aria-labelledby":t?"sdx-dialog-content-label":this.el.getAttribute("aria-labelledby"),"aria-describedby":e?"sdx-dialog-content-description":this.el.getAttribute("aria-describedby")},i("div",{key:"87e22ecc4baa65ebee427d29ec381d02e53a21f6",class:this.getComponentClassNames()},i("div",{key:"14ebb858d56b03b84139edce1451475a07dbb4b4",class:"arrow",ref:o=>this.arrowEl=o,style:this.getArrowStyle()}),i("div",{key:"b5bb5a5d56ca457e754632f0be53bd6478655284",class:"body",style:this.bodyStyle},i("sdx-trap-focus",{key:"202285c8bb2ad507dfd48e77471694548d0c61c5",ref:o=>this.trapFocusEl=o,lang:this.el.lang,firstFocusableElement:this.trapFocusFirstFocusableElement},i("slot",{key:"53fe720218a7df8ddf6edbf51762d509266b1295"})))))}get el(){return y(this)}static get watchers(){return{state:["stateChanged"]}}};M.style=$;const Y=":host,*,*:before,*:after{box-sizing:border-box}:host{display:none;position:absolute;top:0;left:0;z-index:999999;box-shadow:0 0 4px 0 rgba(0, 0, 0, 0.2);max-width:259px;min-width:125px;border-radius:12px}ul{list-style-type:none;margin:0;padding:0}",q=Y,K=class{stateChanged({},t){const e=this.state.get(),o=t.get();e.display!==o.display&&this.displayChanged(e)}onKeyDown(t){const e=()=>Array.from(this.el.querySelectorAll("sdx-menu-flyout-list-item"));switch(t.key){case"ArrowDown":U(e(),document.activeElement).doFocus(),t.preventDefault();break;case"ArrowUp":N(e(),document.activeElement).doFocus(),t.preventDefault();break;case" ":document.activeElement.doClick(),t.preventDefault();break}}constructor(t){m(this,t),this.state=void 0,this.srHint="",this.store=new C(this,x,E(),["display"])}connectedCallback(){this.store.set("contentEl",this.el)}componentDidLoad(){this.store.subscribe()}displayChanged(t){var e;t.display==="open"&&((e=this.trapFocusEl)===null||e===void 0||e.doFocus())}getHostClassNames(){return{[u(this.el)]:!0}}render(){return i(D,{key:"54b967618310e01a0797c18d74a6deef00fa13d6",role:"dialog",class:this.getHostClassNames(),"aria-label":this.srHint},i("sdx-trap-focus",{key:"d2f1746ac9492038b254709873cf6f52bc8a534c",ref:t=>this.trapFocusEl=t,lang:this.el.lang},i("div",{key:"151c284f7cb038a4c0fd66684044e7f2cf89b843",role:"list"},i("slot",{key:"27e26ef493c10700b7d045f61fde6825e6e41e99"}))))}get el(){return y(this)}static get watchers(){return{state:["stateChanged"]}}};K.style=q;const X=":host,*,*:before,*:after{box-sizing:border-box}:host{display:block}:host>.component>.arrow{display:none;position:absolute;background-color:#fff;width:15px;height:15px;transform:rotate(45deg)}:host{display:block}:host>.component.focused>.arrow,:host>.component.focused>.body{background-color:#eef3f6 !important}:host>.component.focused>.arrow:focus-visible,:host>.component.focused>.body:focus-visible{outline:2px solid #086adb;outline-offset:-2px;border-radius:8px;transition:none}:host>.component>.body{position:relative;background-color:#fff;color:#086adb;display:flex;gap:8px;padding:12px 24px;text-decoration:none;transition:border-bottom 200ms cubic-bezier(0.4, 0, 0.6, 1), color 200ms cubic-bezier(0.4, 0, 0.6, 1);outline:none}:host(.selectable)>.component>.body{cursor:pointer}:host(:not(.selectable))>.component>.body{cursor:not-allowed}:host(.selectable:hover)>.component>.arrow,:host(.selectable:hover)>.component>.body{background-color:#eef3f6 !important}:host(.disabled)>.component>.body{color:#d6d6d6}:host(.disabled)>.component>.body.disabled,:host(.disabled)>.component>.body:disabled{cursor:not-allowed}:host(.disabled)>.component>.body.disabled:active,:host(.disabled)>.component>.body:disabled:active{pointer-events:none;transform:none}:host(:first-of-type)>.component>.body{border-top-left-radius:12px;border-top-right-radius:12px;padding-top:16px}:host(:last-of-type)>.component>.body{border-bottom-left-radius:12px;border-bottom-right-radius:12px;padding-bottom:16px}:host(.bottom-right:first-of-type)>.component>.arrow,:host(.bottom-left:first-of-type)>.component>.arrow{display:block;top:-7.5px;box-shadow:-1px -1px 2px 0 rgba(0, 0, 0, 0.15)}:host(.top-right:last-of-type)>.component>.arrow,:host(.top-left:last-of-type)>.component>.arrow{display:block;bottom:-7.5px;box-shadow:1px 1px 2px 0 rgba(0, 0, 0, 0.15)}:host(.sdx--dark-theme)>.component.focused>.arrow,:host(.sdx--dark-theme)>.component.focused>.body{background-color:#242424 !important}:host(.sdx--dark-theme)>.component.focused>.arrow:focus-visible,:host(.sdx--dark-theme)>.component.focused>.body:focus-visible{outline:2px solid #e6e6e6;outline-offset:-2px;border-radius:8px;transition:none}:host(.sdx--dark-theme)>.component>.body{font-weight:500;background-color:#1d1d1d;color:#4294ff}:host(.sdx--dark-theme)>.component>.arrow{background-color:#1d1d1d}:host(.sdx--dark-theme.selectable:hover)>.component>.arrow,:host(.sdx--dark-theme.selectable:hover)>.component>.body{background-color:#242424 !important}:host(.disabled.sdx--dark-theme)>.component>.body{color:#5c5c5c}",j=X,V=class{onClick(t){this.disabled&&t.stopPropagation()}onFocusChange(){this.anchorElFocused=!this.anchorElFocused}async doFocus(){this.anchorEl.focus()}async doClick(){this.anchorEl.click()}constructor(t){m(this,t),this.state=void 0,this.anchorElFocused=!1,this.selectable=!0,this.href="javascript:;",this.iconName=void 0,this.hreflang=void 0,this.target=void 0,this.disabled=!1,this.store=new C(this,x,E(),["direction"])}connectedCallback(){this.arrowEl&&this.store.dispatch({type:"ADD_ARROW_EL",arrowEl:this.arrowEl})}disconnectedCallback(){this.arrowEl&&this.store.dispatch({type:"REMOVE_ARROW_EL",arrowEl:this.arrowEl})}componentDidLoad(){this.store.dispatch({type:"ADD_ARROW_EL",arrowEl:this.arrowEl}),this.store.subscribe()}getHostClassNames(){const{direction:t}=this.state.get();return{[u(this.el)]:!0,selectable:this.selectable&&!this.disabled,disabled:this.disabled,...I(t)}}getComponentClassNames(){return{component:!0,focused:this.anchorElFocused}}getLinkClassNames(){return{body:!0,disabled:this.disabled}}render(){return i(D,{key:"1690644bc3a7ce7547fee0b5aa05f1fd71af3a2c",class:this.getHostClassNames(),"aria-disabled":this.disabled&&"true",role:"listitem"},i("div",{key:"cdcbb0db24134f93ee353322af1f717c6b88ca64",class:this.getComponentClassNames()},i("div",{key:"4a3ca24604efef7a2689a24476666179d0500dff",class:"arrow",ref:t=>this.arrowEl=t}),i("a",{key:"6a11793b605b10251e5e700804944a04f4626540",href:this.href,hreflang:this.hreflang,target:this.target,class:this.getLinkClassNames(),ref:t=>this.anchorEl=t},this.iconName&&i("sdx-icon",{key:"253cc8db8d15954319dcc4954f405cb2b9d07336",class:"icon",iconName:this.iconName,size:2}),i("slot",{key:"4d291b7b4222d368aa04d95695709d3ea7714f2b"}))))}get el(){return y(this)}};V.style=j;const G=":host,*,*:before,*:after{box-sizing:border-box}.button-reset{font-family:TheSans, sans-serif;font-weight:500;line-height:24px;letter-spacing:-0.1px;font-size:18px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;vertical-align:middle;text-decoration:none;text-align:center;color:inherit;margin:0;transition:all 150ms cubic-bezier(0.4, 0, 0.6, 1);-webkit-tap-highlight-color:transparent;white-space:unset;padding:unset;border:none;background:transparent;user-select:none}.button-reset:focus-visible{outline:2px solid #086adb;outline-offset:-2px;border-radius:8px;transition:none}.button-reset:not(:disabled){cursor:pointer}.button-reset::-moz-focus-inner{border:0}:host(.sdx--dark-theme) .button-reset:focus-visible{outline:2px solid #e6e6e6;outline-offset:-2px;border-radius:8px;transition:none}.toggle{color:#086adb;border-radius:5px}.toggle:focus-visible{outline:2px solid #086adb;outline-offset:-2px;border-radius:8px;transition:none;outline:0}.toggle:hover{color:#0048cf;background-color:#d1e6f9}.toggle.sdx--dark-theme{color:#4294ff}.toggle.sdx--dark-theme:hover{color:#5ca3ff;background-color:rgba(66, 148, 255, 0.15)}.toggle.sdx--light-theme.dark,.toggle.sdx--dark-theme.dark{color:#fff}.toggle.sdx--light-theme.dark:active,.toggle.sdx--dark-theme.dark:active{background-color:rgba(255, 255, 255, 0.15)}@media (hover: hover){.toggle.sdx--light-theme.dark:hover,.toggle.sdx--dark-theme.dark:hover{background-color:rgba(255, 255, 255, 0.15)}}",J=G,Q=class{async doFocus(){var t;(t=this.buttonEl)===null||t===void 0||t.focus()}onClick(){this.store.set("isUserInteractionInProgress",!0),this.state.get().toggle(),this.store.set("isUserInteractionInProgress",!1)}handleKeyDown(t){const e=t.key;(e==="Spacebar"||e===" "||e==="Enter")&&(t.preventDefault(),this.store.set("isUserInteractionInProgress",!0),this.state.get().toggle(),this.store.set("isUserInteractionInProgress",!1))}constructor(t){m(this,t),this.state=void 0,this.srHint=T("Open dialog",this.el.lang),this.background="light",this.store=new C(this,x,E(),["display","toggle"])}connectedCallback(){this.store.set("toggleEl",this.el)}disconnectedCallback(){this.store.set("toggleEl",void 0)}componentDidLoad(){this.store.subscribe()}getButtonClassNames(){return{"button-reset":!0,toggle:!0,[this.background]:!0,[u(this.el)]:!0}}render(){return i("button",{key:"8ada8d864a9f349403b39f4945da333c175c20c2",type:"button",class:this.getButtonClassNames(),ref:t=>this.buttonEl=t,"aria-label":this.srHint,"aria-expanded":(this.state.get().display==="open").toString()},i("slot",{key:"12dccbd1c0278dad483470ab6707812594271382"}))}get el(){return y(this)}};Q.style=J;export{H as sdx_menu_flyout,M as sdx_menu_flyout_content,K as sdx_menu_flyout_list,V as sdx_menu_flyout_list_item,Q as sdx_menu_flyout_toggle};
