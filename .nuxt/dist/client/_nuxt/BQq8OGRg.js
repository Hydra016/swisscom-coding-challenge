import{a3 as m,a5 as t,a7 as g}from"./RPqdvl64.js";import{u as l,c as u,b as s}from"./DrTE1gcP.js";const f=":host,*,*:before,*:after{box-sizing:border-box}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);border:0}.sr-only-focusable:active,.sr-only-focusable:focus{position:static;width:auto;height:auto;margin:0;overflow:visible;clip:auto}.component{display:flex;justify-content:center}.component.small .wrapper .chart-container .chart{height:64px;width:64px}.component.small .wrapper .chart-container .chart svg{height:64px;width:64px;stroke-linecap:butt}.component.small .wrapper .chart-container .chart svg circle{stroke:#d6d6d6}.component.small .wrapper .chart-container .chart svg circle.azure{stroke:#1781e3}.component.small .wrapper .chart-container .chart svg circle.turquoise{stroke:#0eaba9}.component.small .wrapper .chart-container .chart svg circle.iris{stroke:#5944c6}.component.small .wrapper .chart-container .chart svg circle.orchid{stroke:#a63297}.component.small .wrapper .chart-container .chart svg circle.pink{stroke:#e1195f}.component.small .wrapper .chart-container .metadata{font-size:16px;top:8px;right:8px;bottom:8px;left:8px}.component.bottom .wrapper{flex-direction:column;flex-basis:100%}.component.bottom .wrapper .legend{margin-top:24px;flex-wrap:wrap;width:100%}.component.bottom .wrapper .legend li:not(:last-of-type){margin-right:24px}.component.right .wrapper .legend{margin-left:32px;flex-direction:column}.component.right .wrapper .legend li:not(:last-of-type){margin-bottom:8px}.component.dark .wrapper .chart-container .metadata,.component.dark .wrapper .chart-container .metadata .description{color:#fff}.component .wrapper{display:flex;align-items:center}.component .wrapper .chart-container{position:relative}.component .wrapper .chart-container .chart{transform:rotate(-90deg);height:182px;width:182px}.component .wrapper .chart-container .chart svg{position:absolute;top:0;left:0;fill:transparent;stroke-width:2;stroke-linecap:round;height:182px;width:182px}.component .wrapper .chart-container .chart svg circle{stroke:#d6d6d6}.component .wrapper .chart-container .chart svg circle.azure{stroke:#1781e3}.component .wrapper .chart-container .chart svg circle.turquoise{stroke:#0eaba9}.component .wrapper .chart-container .chart svg circle.iris{stroke:#5944c6}.component .wrapper .chart-container .chart svg circle.orchid{stroke:#a63297}.component .wrapper .chart-container .chart svg circle.pink{stroke:#e1195f}.component .wrapper .chart-container .metadata{font-weight:400;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;line-height:28px;letter-spacing:-0.89px;font-size:32px;position:absolute;display:flex;flex-direction:column;justify-content:center;align-items:center;top:32px;right:24px;bottom:24px;left:24px}.component .wrapper .chart-container .metadata .description{font-size:16px;color:#666;white-space:nowrap;width:100%;overflow:hidden;text-overflow:ellipsis;text-align:center}.component .wrapper .legend{display:flex;list-style:none;padding:0;font-weight:300;justify-content:center;margin:0}.component .wrapper .legend li{white-space:nowrap}.component.sdx--dark-theme.small .wrapper .chart-container .chart svg circle{stroke:#5c5c5c}.component.sdx--dark-theme.small .wrapper .chart-container .chart svg circle.azure{stroke:#136fc3}.component.sdx--dark-theme.small .wrapper .chart-container .chart svg circle.turquoise{stroke:#0a7b7a}.component.sdx--dark-theme.small .wrapper .chart-container .chart svg circle.iris{stroke:#6f5ccb}.component.sdx--dark-theme.small .wrapper .chart-container .chart svg circle.orchid{stroke:#a54c9b}.component.sdx--dark-theme.small .wrapper .chart-container .chart svg circle.pink{stroke:#d41d56}.component.sdx--dark-theme .wrapper .chart-container .metadata .description{color:#e6e6e6}.component.sdx--dark-theme .wrapper .chart-container svg circle{stroke:#5c5c5c}.component.sdx--dark-theme .wrapper .chart-container svg circle.azure{stroke:#136fc3}.component.sdx--dark-theme .wrapper .chart-container svg circle.turquoise{stroke:#0a7b7a}.component.sdx--dark-theme .wrapper .chart-container svg circle.iris{stroke:#6f5ccb}.component.sdx--dark-theme .wrapper .chart-container svg circle.orchid{stroke:#a54c9b}.component.sdx--dark-theme .wrapper .chart-container svg circle.pink{stroke:#d41d56}",w=f,b=class{dataChanged(){this.dataParsed=l(this.data)||[]}constructor(e){m(this,e),this.viewBox=34,this.radius=16,this.segmentPaddingForSizeSmall=0,this.segmentPaddingForSizeMedium=3,this.hundredPercent=this.radius*2*Math.PI,this.animationDuration=200,this.data=[],this.value="",this.description=void 0,this.legendPosition="bottom",this.size="medium",this.backgroundTheme="light",this.dataParsed=l(this.data)||[]}dataToSegments(){const e=this.size==="medium"?this.segmentPaddingForSizeMedium:this.segmentPaddingForSizeSmall,r=this.dataParsed.reduce((a,o)=>a+o.value,0),n=this.dataParsed.filter(a=>a.value/r*this.hundredPercent<e),i=n.reduce((a,o)=>a+o.value,0),h=360/this.hundredPercent*e;let p=h;return this.dataParsed.filter(({},a)=>this.size==="small"?a===0:!0).map(a=>{const o=this.hundredPercent-e*n.length;let c=a.value/(r-i)*o;c<e?c=0:c=c-e;const d={d:a,width:c,rotation:p};return p+=this.widthToDeg(d.width)+h,d})}widthToDeg(e){return 360/this.hundredPercent*e}getComponentClassNames(){return{component:!0,[u(this.el)]:!0,[this.legendPosition]:!0,[this.size]:!0,[this.backgroundTheme]:!0}}hasLabelsOrSrHints(){return this.dataParsed.some(this.hasLabelOrSrHint)}hasLabelOrSrHint(e){return!!e.label||!!e.srHint}render(){const e=this.viewBox/2;return t("div",{key:"82020c0b5fc844260fd1bdf8297879e98c8c4383",class:this.getComponentClassNames()},t("div",{key:"6cb625a7735644dca8f30f3dfb330495b0ce62be",class:"wrapper"},t("div",{key:"fc921b4814e1b3cfe57ab2c52c1283583e373d16",class:"chart-container"},t("div",{key:"7a02c393a55c02bb8d036525d7e587fc2c270aa1",class:"chart"},this.size==="small"&&t("svg",{key:"37e7b00c7ade1fe45e254dab2ac059fb8d15de02",viewBox:`0 0 ${this.viewBox} ${this.viewBox}`,style:{transform:`rotate(${this.widthToDeg(this.hundredPercent)}deg)`}},t("circle",{key:"2c2292f393d5e1233d33597a3fe3c96c919e98f1",cx:e,cy:e,r:this.radius})),this.dataToSegments().map((r,n)=>t("svg",{key:Math.random(),viewBox:`0 0 ${this.viewBox} ${this.viewBox}`,style:{transform:`rotate(${r.rotation}deg)`}},t("circle",{class:r.d.color,cx:e,cy:e,r:this.radius,ref:i=>{i&&(s.set(i,{visibility:"hidden"}),s.start(i,[{visibility:"visible",strokeDasharray:`0 ${this.hundredPercent}`},{visibility:"visible",strokeDasharray:`${r.width} ${this.hundredPercent}`}],this.animationDuration,{delay:n*this.animationDuration}))}})))),t("div",{key:"bb874de480e2aee77432fa373ac5ce6cfcc0fc93",class:"metadata","aria-hidden":"true"},t("div",{key:"cb7532cedffa415e137d0daf09d587c8e6036fa4",class:"value"},this.value),this.size!=="small"&&t("div",{key:"c0ca2372b63a354bdc7be4c02a126f8fe8c58c68",class:"description"},this.description))),this.hasLabelsOrSrHints()&&t("ul",{key:"44b560b7e3e503cb9e1725c6a0efbeca40ca0545",class:{legend:!0,"sr-only":this.size==="small"}},this.dataParsed.filter(this.hasLabelOrSrHint).map((r,n)=>t("li",{key:Math.random(),ref:i=>{i&&(s.set(i,{opacity:"0"}),s.start(i,{opacity:"1"},this.animationDuration,{delay:n*this.animationDuration}))}},t("span",{"aria-hidden":"true"},t("sdx-icon",{iconName:"icon-record-filled",colorClass:r.color||"gray-tint-8"})," ",r.label),r.srHint&&t("span",{class:"sr-only"},r.srHint))))))}get el(){return g(this)}static get watchers(){return{data:["dataChanged"]}}};b.style=w;export{b as sdx_pie_chart};
